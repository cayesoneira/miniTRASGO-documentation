{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to the miniTRASGO documentation","text":"<p>Here everything necessary to use the miniTRASGO (miniature TRacking ...) cosmic ray (CR) telescope is found. We split this page in several parts including hardware and software.</p>"},{"location":"#the-logbook","title":"The logbook","text":"<p>We encourage the miniTRASGO user to keep track any activity it develops on any of the miniTRASGO in the following logbook made in Google Sheets: miniTRASGO logbook.</p>"},{"location":"#the-central-trigger-system","title":"The Central Trigger System","text":"<p>Just paste in your browser the following address to connect locally to the mingo computer by ethernet:</p> <p>http://192.168.3.216:1234/cts/cts.htm</p>"},{"location":"about/","title":"About us","text":"<p>The miniTRASGO network is blablabla</p>"},{"location":"control/","title":"Control indicators:","text":"<ul> <li>The correlation between the charge measured back and forth in the same strip has to be close to 1 (a plot helps to visualize). This allows us to check if the back and front channels are well connected and also if the events are collected properly. Points over the axes will indicate that one side is measuring, the other not.</li> <li>The charge, once calibrated to have its first ramp up in the histogram in 0, has to keep like this, and has to be unimodal and both back and forth charges have to be simiral in shape. (This control condition is similar to that before).</li> <li>La uniformidad de la distribuci\u00f3n espacial de la carga entre distintos strips de la misma layer es un criterio de control.</li> <li>The correlation between times measured back and forth, seen in a plot, can give hints on problems. We could see gaps and different angles to 45 degrees. The thicker the dispersion, the larger the strip. And a slope different to 45 degrees indicates that there is some kind of scalating acting on the large of the strip. One of the clocks might be slower?</li> <li>In summary: back and forth charge and time correlation diagrams are useful to see if everything is fine.</li> <li>The information from the self-trigger: the automatic measure of all the events from the detector.</li> <li></li> </ul>"},{"location":"hardware/","title":"Hardware and design","text":"<p>TRB3sc-based DAQ</p> <ul> <li>30x30 cm (active area) 2x1mm Gap RPC</li> <li>4 + 4 timing ch/plane =&gt; 32 ch, 1 MB/minGo</li> <li>Coax cables from RPC to MB, located fixed to the common structure.</li> <li>1 HV PS supply all RPC.</li> <li>Gas injected with calibrated holes + flow-monitors in the output (mutom like) + common bubbler.</li> <li>Couple of T and P sensors (STRATOS like). </li> <li> <p>1 TRB3sc readout + odroidC2. (watchDog + relay + USB(RJ45)+I2C 3 ways)</p> </li> <li> <p>Why are the layers called T1, T2, etc???</p> </li> </ul> <p></p> <p></p> <p></p> <p></p>"},{"location":"software/","title":"Software","text":""},{"location":"software/#operating-the-minitrasgo","title":"Operating the miniTRASGO:","text":"<p>Connecting to the miniTRASGO PC is mandatory to execute some key operations such as starting the voltage, the DAQ (Data Adquisition System), etc. To do so, while in the same network, a ssh connection can be establisehd from the terminal:</p> <pre><code>ssh -X rpcuser@192.168.3.216\n</code></pre> <p>It will ask for a password, which is currently private (ask us) because it is the same for many devices at LIP Coimbra. Once we write it we will be inside the miniTRASGO computer. To leave the ssh connection just write <code>exit</code>.</p> <p>The TRASGO team decided to build a <code>tmux</code> multiplexer to develop a series of operations in a multiple, permanently open shell. Everything could be done through the main terminal session, but one at a time, and our computer has to be connected. This way we separate visually diffetent executions, as well as we can execute in the background the measuring operations. Any activity on the multiplexer will be shown in real time to every user conncected to a <code>tmux</code> session. We can access it through the terminal inside the miniTRASGO computer. First we see the <code>tmux</code> sessions avaliable:</p> <pre><code>tmux ls\n</code></pre> <p>It will give as output: - <code>0: 7 windows (created Tue Jul 11 15:06:22 2023) (attached)</code>: utilized for measurement operations. - <code>1: 13 windows (created Tue Jul 11 15:06:22 2023) (attached)</code>: utilized for data treatment. - <code>webserver: 1 windows (created Tue Jul 11 15:12:07 2023)</code>: gives info on the trigger activity; not interactive.</p> <p>So the line to enter any session is:</p> <pre><code>tmux attach -t &lt;session name: 0, 1 or webserver&gt;\n</code></pre> <p>To leave the <code>tmux</code> session just press <code>CTRL + B, D</code>. Let's see what is inside these sessions and how to operate with it.</p>"},{"location":"software/#session-0","title":"Session 0","text":"<ul> <li>0:Main01</li> <li>1:DAQControl</li> <li>2:DABC (why this name???)</li> <li>3:Thresholds</li> <li>4:HLDs</li> <li>5:Control</li> <li>6:Var</li> </ul>"},{"location":"software/#session-1","title":"Session 1","text":"<ul> <li>0:Main01</li> <li>1:Dcs</li> <li>2:CopyFiles</li> <li>3:Unpacker01</li> <li>4:Unpacker02</li> <li>5:Unpacker03</li> <li>6:Ana</li> <li>7:Report</li> <li>8:Control</li> <li>9:LogCritical</li> <li>10:LogNet</li> <li>11:LogSystem</li> <li>12:Var</li> </ul>"},{"location":"software/#measuring-101","title":"Measuring 101:","text":"<p>In <code>tmux attach -t 0</code>:</p>"},{"location":"software/#high-voltage-control","title":"High Voltage control","text":"<p>In the ??? window, <code>cd ~/bin/HV</code> and execute the executable <code>hv</code> with the following arguments:</p> <ul> <li><code>-b &lt;bus&gt;</code> : Bus number</li> <li><code>-I &lt;Ilim&gt;</code> : Current limiter (\u03bcA)</li> <li><code>-V &lt;Vset&gt;</code>: High voltage value (kV)</li> <li><code>-on</code> : Turn HV ON</li> <li><code>-off</code> : Turn HV OFF</li> </ul> <p>Examples:</p> <pre><code>./hv -b 0 -I 1 -V 5.5 -on\n</code></pre> <pre><code>./hv -b 0 -off\n</code></pre>"},{"location":"software/#starting-the-daq","title":"Starting the DAQ","text":"<p>In the 1.DAQControl window, we go to ~/trbsoft/userscripts/trb$ and execute <code>./startDAQ</code></p>"},{"location":"software/#startig-a-run","title":"Startig a Run","text":"<p>In the 2.DABC window, we go to ~/trbsoft/userscripts/trb$ and execute <code>./startRun.sh</code> </p>"},{"location":"software/#the-content-of-the-computer","title":"The content of the computer","text":"<p>/ - bin  boot  dev  etc  mnt  opt  proc  resize.log  root  run  sbin  snap  srv  sys  tmp  usr  var lib  lost+found - /media     - /externalDisk         - /hlds: here the trigger data files are stored. - /home: everything interesting is inside this directory but the trigger data files.     - /rpcuser         - /bin             - /HV                 - hv: used to ramp up the High Voltage.             - /flowmeter                 - GetData                 - GetFlow         - /gate             - /system                 - /devices: includes all the data coming from every component of the mingo system.         - /hlds (empty???)         - /linux         - /logs: includes all the info taken by the high voltage and climate sensors. What is that rates_ file??. All the current data is here.             -/done: all the full log files will be put here. Is this info then stores in the /gate/system/devices???.         - /mnt: EMPTY         - /perl5: ???         - /pythonscripts: only has one .py and I do not think it is very important.         - /trbsoft: Trigger and Readout Board software</p> <p><code>CTRL + C</code> to stop the DAQ process.</p>"},{"location":"todo/","title":"To do","text":""},{"location":"todo/#to-do-list","title":"To do list:","text":"<ul> <li>Find the voltage plateau: study the behaviour of the efficiency with the high voltage (HV). We are around 5.5 kV.</li> <li>See how temperature, humidity, pressure affect the detector.</li> <li>Study the gas flow: if it is equal, if it decreases with time, which is the optimal value of flux (to save gas if possible).</li> <li>Document all data and software.</li> <li>See if an autocalibration software exists; else, write it. It should use three layers to calibrate the fourth for every layer.</li> <li>Write a visual interface for controlling the voltage, seeing the temperature, etc.</li> <li>See if it is interesting that some strips are wider than others in terms of resolution.</li> <li>See if it is interesting that the strips are crossed every layer, and even if it is interesting that they are of different shapes (just like the Coimbra RPC).</li> <li>Avoid if possible the rel\u00e9 for the future.</li> <li>Check the Alberto's power supply. If it works we will not need to change dramatically the architexture for future mingos.</li> <li>Calibrate mingo offset on time difference to obtain a realistic position of the event.</li> <li>Try to guess some physics we could learn from mingo.</li> <li>Recalculate the velocity of propagation of the signal on the strip</li> <li>Calculate the real active area, which is the area of the paint, to see what is the nominal large of the strips.</li> <li>Asignar nombres a las capas y ver d\u00f3nde est\u00e1n los canales.</li> <li>Sometimes there are streamers: descargas bastante grandes que no llegan a ser chispas pero que se ven en los diagramas de carga sobre la superficie. Appear as a second peak in the charge spectrum histogram.</li> <li>En \u00faltima instancia la forma de conocer a qu\u00e9 canal se corresponde cada strip es desconectar uno de los canales y ver despu\u00e9s cu\u00e1l deja de aparecer en el pdf.</li> <li>Create a code to reject in the efficiecy calculations those muons that do not pass through the forth layer (the first or the forth) because it passes throught the other three and we know that given that angle it goes outside of the detector.</li> <li>Change the pdf generation to include absolutely all the plots, specially the control plots. We can use the excel from which the pdf is generated: there we can indicate what new plots we want (the variables must exist, of course).</li> <li>Add to the correlation plots a calculation on regression or directly in correlation to see when we are operating in normality.</li> <li>Update the code to measure once in a while automatically (self-trigger) to adquire all the events that the detector is measuring, not only muon coincidences, to characterize noise and health of the detector, etc. The thing is that a lot of events are occuring in the detector: streams coming from the electric system itself, gammas, electrons, etc.</li> <li>Correct the efficiency to be able to remeasure the voltage plateau.</li> <li>The efficiency in several planes: 4: 0.6, 3: 0.8, 2: 0.8, 1: 0.4. All should have the same value, but for</li> <li>Calculate the geometrical acceptance to check the differences in number in counts between layers.</li> <li>We can use planes 2 and 3 to estimate the voltage plateau because it is the best efficiency estimation.</li> <li>Modify to not use password to access the mingo PC.</li> <li>TDCs have to be calibrated. Apparently temperature plays a role when we want resolutions of 10 ps because it can change the size of some hardware component in the TDC, but since we need 100 ps or so temperature will not be important. Probably all this problem in the correlations can be solved just by calibrating correctly the TDC, since Alberto noticed there are numbers that do not have appropriate values (but until now we just did not pay attention to it).</li> <li>Remember: the width of the front-back correlation in time gives the total width of the strip.</li> <li>My way (Caye) to calibrate the offset of the strip: fit a y = a + b*x line to the correlation cloud in times, then the a must be the center offset for every strip.</li> <li>Calculate the zero of the charge is a actually difficult algorithm, but very interesting one to create.</li> <li>Create a tmux window for the HV.</li> <li>What is the criteria to choose one of the charge values between the front and back?</li> <li></li> </ul> <p>Blocked quote</p>"},{"location":"todo/#to-understand","title":"To understand:","text":"<ul> <li>The wide strip does not get more counts in the first layer (lower one): is this ok? why? Could it be that because of being at the edge the fact of being wider does not five advantage?</li> <li>Investigate why some strips appear larger than they are once applying the propagation velocity to get from time to distance. Maybe because the propagation velocity is different in some strips? Check for the plateau voltage and repeat the test.</li> <li>See why some random maxima in temperature are correlated with maxima at the muon detection. In words of Alberto, sometimes the detector has a general offset. We still do not know where it comes from.</li> <li>We suspect that layer 2 (second lower) has changed the name of the channel for some strips (maybe 1 and 2) because there is a strip with 1.3 times the counts of the rest of the strips. The wide strip is 1.5 wider than the narrow ones. The same happens to the third layer.</li> <li>El plano 1 (p\u00e1g. 3 del pdf), en el mapa de eficiencia, no permite ver strips, sino que se ve una patata caliente: hay muchos puntos eficientes fuera del \u00e1rea del detector, que deber\u00eda ser cuadrada. Esto no se puede explicar, en principio, mediante una coincidencia casual de un mu\u00f3n que no tiene nada que ver con el mu\u00f3n que pasa por los otros tres strips y llega al de abajo. Same with the 4th layer.</li> <li>In general the thinner strips have not all the same counts, when they should. Only the thicker strip should have more counts (a 50\\% more).</li> <li>One of the strips of the layer 1 has far less counts than what it should. Probably an electronic issue.</li> <li>See if the gaps in the correlation diagram in charge and time are due to the strip or to the electronics.</li> <li>These gaps and the difference in slope are actually the reasons why some of the strips appear larger.</li> <li>The voltages applied diverge with time one from the other. It does not seem like a problem, but we do not know why.</li> <li>The layers measure different mean rates, and it is a behavior that it has been seen in other RPC detectors here at Coimbra: it was always associated with the age of the detector, since older RPCs measure generally less in self-trigger (we say that they have less noise; we should check also if they measure only less noise or just less measures in general), but for this detector everything was built roughly at the same time. It could be that some layers affect the others. The thing is that, being the Trigger Multiplexer 0 is the lower layer and the Trigger Multiplexer 3 the upper layer, the values are like follow:</li> </ul> <p> - ... as we see the second upper layer has the highest ratio, which does not make much sense. We should measure with the detector put upside down to see if this is physical or if it is a detector-related effect.</p>"},{"location":"todo/#questions-that-alberto-probably-can-answer","title":"Questions that Alberto probably can answer","text":"<ul> <li>What is the criteria to choose of the two charges to make the charge diagram?</li> <li>How to do the streamer map? Are those points removed from the standard charge diagram? Because we saw they could appear as a second peak in the charge diagram.</li> <li>Can we obtain physical information of the charge diagram?</li> <li>If there are several charges in the same layer, strip and event we choose the bigger one?</li> <li>Why is the XY charge diagram uniform if the XY counts diagram is not? (We know you explained this before but...)</li> <li>The charge diagrams in the PDF are the same but with different scales?</li> <li></li> </ul>"},{"location":"todo/#the-current-plan","title":"The current plan:","text":"<ul> <li>We have a problem with the correlation plots: some of the points are displaced with gaps and in a different-than-1 slope which</li> </ul>"},{"location":"todo/#layer-by-layer-complete-with-the-upper","title":"Layer by layer (complete with the upper):","text":"<ul> <li>Layer 1 (lower): wider strip does not get more counts.</li> <li>Layer 2 (second lower): heavyside</li> <li>Layer 3 (second upper): we should have 100\\% efficiency </li> <li>Layer 4 (uppermost): </li> </ul>"},{"location":"troubleshooting/","title":"Troubleshooting","text":""},{"location":"troubleshooting/#the-strips-appear-larger-than-they-are","title":"The strips appear larger than they are","text":"<p>When seeing the XY diagram it might be that some strips appear larger. We checked the correlation in times and charges between front (F) and back (B) to see that there is no perfecet correlation, but a slope slightly different to 45 degrees and some regular gaps in the cloud of points.</p> <p>Alberto noticed it had to be with the calibration values of the TDC, solving not only the mingo problem but the RPC issue that was sometimes observed at HADES. Those values where seen to be out of the usual some time ago, but never played a mayor role until we changed the TRB in July 13th, 2023: both TRBs had this issue, but with the new one this was the only, isolated problem, so we could study it in detail.</p>"},{"location":"troubleshooting/#the-correlation-pattern-has-a-cloud-of-negative-values","title":"The correlation pattern has a cloud of negative values","text":"<p>This was caused because the TRB/TDC???? (I do not know what is more precise) was calculating the times properly but, for some reason, was confusing the leading with trailing edge of the digital signal. The error was corrected just by changing a posteriori one value with the other. We changed the TRB in July 13th, 2023 to make sure the problem was with this component, and in fact it was. We kept the new TRB for simplicity and we are trying to contact the manufacturer company to discuss the issue.</p>"},{"location":"troubleshooting/#the-correlation-pattern-has-a-lot-of-values-over-the-axes","title":"The correlation pattern has a lot of values over the axes","text":"<p>This could be explained in several ways: - In many cases only one of both sides (front or back) of the strip is measuring. We should test the electronics with the polimeter to checck if it is working. - The channels are mixed up between the front and back of different strips, which breaks the correlation pattern. Just reconnect the coaxial cables (see the technical name of that cable) that go from the strip to the daughterboard (DB) in the correct channels.</p>"},{"location":"variables/","title":"Variables and diagrams","text":""},{"location":"variables/#variables-given-by-the-daq","title":"Variables given by the DAQ","text":"<p>The main variables the detector allows to obtain are times and charges, but the charge calculation comes from the width of the digital signal that is created as a response to the main signal.</p> <p></p> <p>We have time and charge for each side of each strip. These events are saved in T1_F, T1_B, Q1_F and Q1_B. Then T1_F and T1_B are substracted to obtain the position on the strip (we will need a calibration) and a selection is made between Q1_F and Q1_B to obtain the final charge spectra based on the criteria WHICH ONE???.</p>"},{"location":"variables/#variables-derived-from-those","title":"Variables derived from those","text":"<ul> <li>Difference in times multiplied by the velocity of the signal in the strip gives the position of the event in the strip.</li> <li>The charge can give a measure of the energy of the event???</li> <li>Since the trigger can be configured to be the crossing of three planes, i.e. a coincidence, we can measure with certain resolution the direction of incidence of the muon.</li> <li></li> </ul> <p>Interesting diagrams: - Charge spectra: - XY diagram: comes from the time differences; needs to be calibrated to eliminate the offset of the center of the band. - XY charge diagram: - XY Streamer diagram: - XY Efficiency map: - NEW: Time F-B correlation map: - NEW: Charge F-B correlation map: - logs. vs time: intensity, high voltage, temperature, pressure, humidity, rate of events</p>"}]}